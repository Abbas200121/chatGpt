{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import Chatbot from\"./pages/Chatbot\";import Login from\"./pages/Login\";import Signup from\"./pages/Signup\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[isAuthenticated,setIsAuthenticated]=useState(false);// ✅ Check authentication status on mount\nuseEffect(()=>{const token=localStorage.getItem(\"token\");setIsAuthenticated(!!token);},[]);return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/chat\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/chat\"}):/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/chat\"}):/*#__PURE__*/_jsx(Signup,{})}),/*#__PURE__*/_jsx(Route,{path:\"/chat\",element:isAuthenticated?/*#__PURE__*/_jsx(Chatbot,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:isAuthenticated?\"/chat\":\"/login\"})})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","Navigate","Chatbot","Login","Signup","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","token","localStorage","getItem","children","path","element","to"],"sources":["C:/Users/moham/message-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport Chatbot from \"./pages/Chatbot\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\n\nconst App = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n  // ✅ Check authentication status on mount\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    setIsAuthenticated(!!token);\n  }, []);\n\n  return (\n    <Router>\n      <Routes>\n        {/* ✅ If not authenticated, force user to login/signup */}\n        <Route path=\"/\" element={isAuthenticated ? <Navigate to=\"/chat\" /> : <Navigate to=\"/login\" />} />\n        \n        <Route path=\"/login\" element={isAuthenticated ? <Navigate to=\"/chat\" /> : <Login />} />\n        <Route path=\"/signup\" element={isAuthenticated ? <Navigate to=\"/chat\" /> : <Signup />} />\n\n        {/* ✅ Protect chat page (must be logged in) */}\n        <Route path=\"/chat\" element={isAuthenticated ? <Chatbot /> : <Navigate to=\"/login\" />} />\n\n        {/* ✅ Catch-all: Redirect unknown paths */}\n        <Route path=\"*\" element={<Navigate to={isAuthenticated ? \"/chat\" : \"/login\"} />} />\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,OAAO,KAAM,iBAAiB,CACrC,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,MAAM,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAE7D;AACAD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CH,kBAAkB,CAAC,CAAC,CAACC,KAAK,CAAC,CAC7B,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEN,IAAA,CAACR,MAAM,EAAAiB,QAAA,cACLP,KAAA,CAACT,MAAM,EAAAgB,QAAA,eAELT,IAAA,CAACN,KAAK,EAACgB,IAAI,CAAC,GAAG,CAACC,OAAO,CAAEP,eAAe,cAAGJ,IAAA,CAACL,QAAQ,EAACiB,EAAE,CAAC,OAAO,CAAE,CAAC,cAAGZ,IAAA,CAACL,QAAQ,EAACiB,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cAEjGZ,IAAA,CAACN,KAAK,EAACgB,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEP,eAAe,cAAGJ,IAAA,CAACL,QAAQ,EAACiB,EAAE,CAAC,OAAO,CAAE,CAAC,cAAGZ,IAAA,CAACH,KAAK,GAAE,CAAE,CAAE,CAAC,cACvFG,IAAA,CAACN,KAAK,EAACgB,IAAI,CAAC,SAAS,CAACC,OAAO,CAAEP,eAAe,cAAGJ,IAAA,CAACL,QAAQ,EAACiB,EAAE,CAAC,OAAO,CAAE,CAAC,cAAGZ,IAAA,CAACF,MAAM,GAAE,CAAE,CAAE,CAAC,cAGzFE,IAAA,CAACN,KAAK,EAACgB,IAAI,CAAC,OAAO,CAACC,OAAO,CAAEP,eAAe,cAAGJ,IAAA,CAACJ,OAAO,GAAE,CAAC,cAAGI,IAAA,CAACL,QAAQ,EAACiB,EAAE,CAAC,QAAQ,CAAE,CAAE,CAAE,CAAC,cAGzFZ,IAAA,CAACN,KAAK,EAACgB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEX,IAAA,CAACL,QAAQ,EAACiB,EAAE,CAAER,eAAe,CAAG,OAAO,CAAG,QAAS,CAAE,CAAE,CAAE,CAAC,EAC7E,CAAC,CACH,CAAC,CAEb,CAAC,CAED,cAAe,CAAAD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}